<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html, body {
            height: 100%;
            margin: 0px;
            padding: 0px;
        }
        .content{
            width: 100%;
        }
        #game_content{
            width: 90%;
            border: 1px solid red;
            margin: 10% auto;

        }
    </style>
</head>

<body>



<div class="content">
    <div id="game_content">

        <canvas id="map" width="1000" height="1000" style="border: 1px solid gray;"></canvas>
    </div>
</div>


</body>
<script>
    console.log("可见高："+document.documentElement.clientHeight);//获取可见的高
    console.log("像素高："+ window.screen.height);//获取像素的高
    var wHeight = document.documentElement.clientHeight;
    document.getElementById("game_content").style.height = 0.88*wHeight+"px";

    window.onload = function (){

        gamemap();
    }

    var mapimg = new Image();
    var map = [
        [2,2,3,3,0,0,2,2,2,3,3,3,2,2,0],
        [2,0,3,3,0,0,0,0,0,0,0,0,0,2,0],
        [2,0,0,0,0,0,0,0,0,0,0,0,2,0,0],
        [2,0,0,0,0,0,0,0,0,0,3,0,2,0,0],
        [1,3,0,0,0,0,0,0,0,0,2,0,2,0,0],
        [1,3,0,0,0,0,2,2,3,3,2,0,2,0,0],
        [2,1,1,1,0,0,0,0,0,0,0,0,3,3,0],
        [2,1,1,1,0,0,0,0,0,0,0,0,3,1,0],
        [0,0,0,1,0,0,1,1,2,2,3,0,0,0,0],
        [2,0,0,1,0,0,0,0,0,0,0,0,0,3,0],
        [3,0,0,1,1,1,0,0,1,1,1,0,1,2,0],
        [3,0,0,0,0,0,0,0,0,0,0,0,1,0,0],
        [2,2,2,2,2,3,3,3,0,0,1,1,1,0,0],
        [2,2,2,2,2,3,3,3,0,0,1,1,1,0,0],
        [2,2,2,2,2,3,3,3,0,0,1,1,1,0,0],
    ];
    //创建构成地图的二维数组

    function gamemap(){
        var i;
        var j;
        var canvas = document.getElementById("map");
        var context = canvas.getContext("2d");

        mapimg.src = "./image/home.png";

        mapimg.onload = function(){
            context.fillRect(0, 0, 2*wHeight, 2*wHeight);
            //画一个长800，宽800的矩形

            for(i = 0; i < 15; i++){
                for(j = 0; j < 15; j++){
                    drawTile(i*64, j*64, map[j][i]);
                }
            }
            //循环调用绘制地图的函数，直到画完为止
        }
    }

    function drawTile(x, y, type){
        var canvas = document.getElementById("map");
        var context = canvas.getContext("2d");
        context.drawImage(mapimg, type*32, 0, 32, 32, x, y, 32, 32);
    }
    //画地图的函数

</script>
</html>